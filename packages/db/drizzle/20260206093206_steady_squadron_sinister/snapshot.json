{
	"dialect": "sqlite",
	"id": "0f936942-ee13-4a00-a808-c5ad2f1e2fc9",
	"prevIds": ["09b3a4df-ce6e-405b-a623-5c4eb70bfe5f"],
	"version": "7",
	"ddl": [
		{
			"name": "ingredient_units",
			"entityType": "tables"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "id",
			"table": "ingredient_units",
			"entityType": "columns"
		},
		{
			"columns": ["id"],
			"nameExplicit": false,
			"name": "ingredient_units_pk",
			"table": "ingredient_units",
			"entityType": "pks"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "ingredient_id",
			"table": "ingredient_units",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "name",
			"table": "ingredient_units",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "grams",
			"table": "ingredient_units",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": "0",
			"generated": null,
			"name": "is_default",
			"table": "ingredient_units",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "source",
			"table": "ingredient_units",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "created_at",
			"table": "ingredient_units",
			"entityType": "columns"
		},
		{
			"columns": ["ingredient_id"],
			"tableTo": "ingredients",
			"columnsTo": ["id"],
			"onUpdate": "NO ACTION",
			"onDelete": "CASCADE",
			"nameExplicit": false,
			"name": "ingredient_units_ingredient_id_ingredients_id_fk",
			"table": "ingredient_units",
			"entityType": "fks"
		},
		{
			"name": "ingredients",
			"entityType": "tables"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "id",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"columns": ["id"],
			"nameExplicit": false,
			"name": "ingredients_pk",
			"table": "ingredients",
			"entityType": "pks"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "user_id",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "name",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "protein",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "carbs",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "fat",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "kcal",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "fiber",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "density",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "fdc_id",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "source",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "created_at",
			"table": "ingredients",
			"entityType": "columns"
		},
		{
			"columns": ["user_id"],
			"tableTo": "users",
			"columnsTo": ["id"],
			"onUpdate": "NO ACTION",
			"onDelete": "NO ACTION",
			"nameExplicit": false,
			"name": "ingredients_user_id_users_id_fk",
			"table": "ingredients",
			"entityType": "fks"
		},
		{
			"name": "meal_plan_inventory",
			"entityType": "tables"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "id",
			"table": "meal_plan_inventory",
			"entityType": "columns"
		},
		{
			"columns": ["id"],
			"nameExplicit": false,
			"name": "meal_plan_inventory_pk",
			"table": "meal_plan_inventory",
			"entityType": "pks"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "meal_plan_id",
			"table": "meal_plan_inventory",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "recipe_id",
			"table": "meal_plan_inventory",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "total_portions",
			"table": "meal_plan_inventory",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "created_at",
			"table": "meal_plan_inventory",
			"entityType": "columns"
		},
		{
			"columns": ["meal_plan_id"],
			"tableTo": "meal_plans",
			"columnsTo": ["id"],
			"onUpdate": "NO ACTION",
			"onDelete": "CASCADE",
			"nameExplicit": false,
			"name": "meal_plan_inventory_meal_plan_id_meal_plans_id_fk",
			"table": "meal_plan_inventory",
			"entityType": "fks"
		},
		{
			"columns": ["recipe_id"],
			"tableTo": "recipes",
			"columnsTo": ["id"],
			"onUpdate": "NO ACTION",
			"onDelete": "NO ACTION",
			"nameExplicit": false,
			"name": "meal_plan_inventory_recipe_id_recipes_id_fk",
			"table": "meal_plan_inventory",
			"entityType": "fks"
		},
		{
			"name": "meal_plan_slots",
			"entityType": "tables"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "id",
			"table": "meal_plan_slots",
			"entityType": "columns"
		},
		{
			"columns": ["id"],
			"nameExplicit": false,
			"name": "meal_plan_slots_pk",
			"table": "meal_plan_slots",
			"entityType": "pks"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "inventory_id",
			"table": "meal_plan_slots",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "day_of_week",
			"table": "meal_plan_slots",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "slot_index",
			"table": "meal_plan_slots",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": true,
			"autoincrement": false,
			"default": "1",
			"generated": null,
			"name": "portions",
			"table": "meal_plan_slots",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "created_at",
			"table": "meal_plan_slots",
			"entityType": "columns"
		},
		{
			"columns": ["inventory_id"],
			"tableTo": "meal_plan_inventory",
			"columnsTo": ["id"],
			"onUpdate": "NO ACTION",
			"onDelete": "CASCADE",
			"nameExplicit": false,
			"name": "meal_plan_slots_inventory_id_meal_plan_inventory_id_fk",
			"table": "meal_plan_slots",
			"entityType": "fks"
		},
		{
			"name": "meal_plans",
			"entityType": "tables"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "id",
			"table": "meal_plans",
			"entityType": "columns"
		},
		{
			"columns": ["id"],
			"nameExplicit": false,
			"name": "meal_plans_pk",
			"table": "meal_plans",
			"entityType": "pks"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "user_id",
			"table": "meal_plans",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "name",
			"table": "meal_plans",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "created_at",
			"table": "meal_plans",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "updated_at",
			"table": "meal_plans",
			"entityType": "columns"
		},
		{
			"columns": ["user_id"],
			"tableTo": "users",
			"columnsTo": ["id"],
			"onUpdate": "NO ACTION",
			"onDelete": "NO ACTION",
			"nameExplicit": false,
			"name": "meal_plans_user_id_users_id_fk",
			"table": "meal_plans",
			"entityType": "fks"
		},
		{
			"name": "recipe_ingredients",
			"entityType": "tables"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "id",
			"table": "recipe_ingredients",
			"entityType": "columns"
		},
		{
			"columns": ["id"],
			"nameExplicit": false,
			"name": "recipe_ingredients_pk",
			"table": "recipe_ingredients",
			"entityType": "pks"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "recipe_id",
			"table": "recipe_ingredients",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "ingredient_id",
			"table": "recipe_ingredients",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "amount_grams",
			"table": "recipe_ingredients",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "display_unit",
			"table": "recipe_ingredients",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "display_amount",
			"table": "recipe_ingredients",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "sort_order",
			"table": "recipe_ingredients",
			"entityType": "columns"
		},
		{
			"columns": ["recipe_id"],
			"tableTo": "recipes",
			"columnsTo": ["id"],
			"onUpdate": "NO ACTION",
			"onDelete": "CASCADE",
			"nameExplicit": false,
			"name": "recipe_ingredients_recipe_id_recipes_id_fk",
			"table": "recipe_ingredients",
			"entityType": "fks"
		},
		{
			"columns": ["ingredient_id"],
			"tableTo": "ingredients",
			"columnsTo": ["id"],
			"onUpdate": "NO ACTION",
			"onDelete": "NO ACTION",
			"nameExplicit": false,
			"name": "recipe_ingredients_ingredient_id_ingredients_id_fk",
			"table": "recipe_ingredients",
			"entityType": "fks"
		},
		{
			"name": "recipes",
			"entityType": "tables"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "id",
			"table": "recipes",
			"entityType": "columns"
		},
		{
			"columns": ["id"],
			"nameExplicit": false,
			"name": "recipes_pk",
			"table": "recipes",
			"entityType": "pks"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "user_id",
			"table": "recipes",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "name",
			"table": "recipes",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "instructions",
			"table": "recipes",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "cooked_weight",
			"table": "recipes",
			"entityType": "columns"
		},
		{
			"type": "real",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "portion_size",
			"table": "recipes",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": "0",
			"generated": null,
			"name": "is_public",
			"table": "recipes",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "source_url",
			"table": "recipes",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "created_at",
			"table": "recipes",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "updated_at",
			"table": "recipes",
			"entityType": "columns"
		},
		{
			"columns": ["user_id"],
			"tableTo": "users",
			"columnsTo": ["id"],
			"onUpdate": "NO ACTION",
			"onDelete": "NO ACTION",
			"nameExplicit": false,
			"name": "recipes_user_id_users_id_fk",
			"table": "recipes",
			"entityType": "fks"
		},
		{
			"name": "user_settings",
			"entityType": "tables"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "user_id",
			"table": "user_settings",
			"entityType": "columns"
		},
		{
			"columns": ["user_id"],
			"nameExplicit": false,
			"name": "user_settings_pk",
			"table": "user_settings",
			"entityType": "pks"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "ai_provider",
			"table": "user_settings",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "ai_api_key",
			"table": "user_settings",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "ai_key_iv",
			"table": "user_settings",
			"entityType": "columns"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "ai_model",
			"table": "user_settings",
			"entityType": "columns"
		},
		{
			"columns": ["user_id"],
			"tableTo": "users",
			"columnsTo": ["id"],
			"onUpdate": "NO ACTION",
			"onDelete": "NO ACTION",
			"nameExplicit": false,
			"name": "user_settings_user_id_users_id_fk",
			"table": "user_settings",
			"entityType": "fks"
		},
		{
			"name": "users",
			"entityType": "tables"
		},
		{
			"type": "text",
			"notNull": false,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "id",
			"table": "users",
			"entityType": "columns"
		},
		{
			"columns": ["id"],
			"nameExplicit": false,
			"name": "users_pk",
			"table": "users",
			"entityType": "pks"
		},
		{
			"type": "text",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "email",
			"table": "users",
			"entityType": "columns"
		},
		{
			"type": "integer",
			"notNull": true,
			"autoincrement": false,
			"default": null,
			"generated": null,
			"name": "created_at",
			"table": "users",
			"entityType": "columns"
		},
		{
			"columns": [
				{
					"value": "email",
					"isExpression": false
				}
			],
			"isUnique": true,
			"where": null,
			"origin": "manual",
			"name": "users_email_unique",
			"table": "users",
			"entityType": "indexes"
		}
	],
	"renames": []
}
